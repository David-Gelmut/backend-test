## Cистема для управления контрагентами с возможностью их добавления по ИНН с получением данных из API DaData.

### Развёртывание с помощью докера:
    #Инициализация, установка зависимостей, запуск миграций и сидеров:
    make init-build

    #Инициализация, установка зависимостей, запуск миграций, сидеров, запуск пакетного менеджера и контейнеров докера:
    make init-build-run

    #Установка зависимостей:
    make init    

    #Запуск пакетного менеджера:
    make run

    #Запуск пакетного менеджера и контейнеров докера:
    make run-up

    #Запуск контейнеров докера:
    make up

    #Остановка контейнеров:
    make down

    #Запуск контейнеров c флагом --build:
    make up-build

    #Запуск миграций:
    make migrate

    #Обновление базы:
    make migrate-fresh
    
    #Откат миграций:
    make rollback
    
    #Запуск сидеров:
    make seed    

    #Обновление базы и запуск сидеров:
    make fresh-seed 

#### Для суперпользователя Linux к командам добавляется постфикс -s. Например: make init-s.
#### При первоначальном запуске сидеров создается пользователь в базе: 
    name: User
    email: user@user.ru
    password:12345678
#### Тестовую базу можно создать аналогично локальному запуску приложения.
#### Запуск проекта по http://localhost:8080/ .
#### API. [Swagger документация](http://localhost:8080/api/documentation).

## Развёртывание приложения локально:
#### Инициализация:

    composer install
    npm install

#### Подготовка базы данных:

1. Подготовка базы данных по пути /database/database.sqlite. Прописываем пути к базе в настройках подключения и в .env файле  DB_CONNECTION=sqlite.
2. Для тестов. Подготовка тестовой базы данных по пути /database/test_database.sqlite. По умолчанию конфигурация test_database и в .env файле DB_CONNECTION=test_database.
3. Выполняем миграции запускаем сидеры:

    ```
    php artisan migrate
    php artisan db:seed
    ```
#### Подготовка окружения: 

  Для работы сервиса DaData в .env файле прописываем параметр DADATA_TOKEN. Получаем его в личном кабинете DaData.

#### Запускаем сервер и пакетный менеджер:

    php artisan serve
    npm run dev

#### Запуск проекта по http://localhost:8000/ .

#### API. [Swagger документация](http://localhost:8000/api/documentation).
### Авторизация по API осуществляется с помощью Bearer token.




